const _0x1b4d46=_0xffd9;(function(_0xfb400b,_0x2bdef6){const _0x86bccb=_0xffd9,_0x71e228=_0xfb400b();while(!![]){try{const _0x41d72a=-parseInt(_0x86bccb(0xeb))/0x1+parseInt(_0x86bccb(0xe2))/0x2*(parseInt(_0x86bccb(0xdf))/0x3)+-parseInt(_0x86bccb(0xdc))/0x4*(-parseInt(_0x86bccb(0xe8))/0x5)+-parseInt(_0x86bccb(0xe5))/0x6+parseInt(_0x86bccb(0xd9))/0x7*(-parseInt(_0x86bccb(0xe0))/0x8)+-parseInt(_0x86bccb(0xf2))/0x9+-parseInt(_0x86bccb(0xca))/0xa*(-parseInt(_0x86bccb(0xf5))/0xb);if(_0x41d72a===_0x2bdef6)break;else _0x71e228['push'](_0x71e228['shift']());}catch(_0x5c1189){_0x71e228['push'](_0x71e228['shift']());}}}(_0x1e27,0x6fc9b));const fs=require('fs'),{tmpdir}=require('os'),Crypto=require('crypto'),ff=require(_0x1b4d46(0xf8)),ffmpegPath=require(_0x1b4d46(0xf7))['path'],webp=require(_0x1b4d46(0xf9)),path=require('path');function _0x1e27(){const _0x34708a=['load','1219030tGMszM','end','mimetype','203850GSqwUg','exif','toFormat','-vsync','-ss','writeUIntLE','Image','345672vbcMzT','readUIntLE','00:00:05','66dAtBEn','test','@ffmpeg-installer/ffmpeg','fluent-ffmpeg','node-webpmux','writeFileSync','categories','unlinkSync','from','-an','data','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','-vcodec','save','279700oPsVqC','packname','author','addOutputOptions','join','-vf','error','stringify','webp','randomBytes','-loop','default','https://github.com/DikaArdnt/Hisoka-Morou','libwebp','.webp','266QTlyMu','concat','setFfmpegPath','12yKGtBV','https://github.com/DGXeon','readFileSync','2028KnwxCo','94472hjpXEs','length','2524EIyKET','.mp4','utf-8','3620802PaiZYv','toString'];_0x1e27=function(){return _0x34708a;};return _0x1e27();}function _0xffd9(_0x398bbc,_0x55bc0e){const _0x1e277f=_0x1e27();return _0xffd9=function(_0xffd96c,_0xe36f2e){_0xffd96c=_0xffd96c-0xc1;let _0x3487bb=_0x1e277f[_0xffd96c];return _0x3487bb;},_0xffd9(_0x398bbc,_0x55bc0e);}ff[_0x1b4d46(0xdb)](ffmpegPath);async function imageToWebp(_0x377d06){const _0xae5938=_0x1b4d46,_0x5d3a56=path[_0xae5938(0xce)](tmpdir(),Crypto[_0xae5938(0xd3)](0x6)[_0xae5938(0xf3)](0x0,0x6)[_0xae5938(0xe6)](0x24)+'.webp'),_0x5bb0d1=path[_0xae5938(0xce)](tmpdir(),Crypto[_0xae5938(0xd3)](0x6)['readUIntLE'](0x0,0x6)[_0xae5938(0xe6)](0x24)+'.jpg');fs['writeFileSync'](_0x5bb0d1,_0x377d06),await new Promise((_0x3a1686,_0x4db909)=>{const _0x50dd83=_0xae5938;ff(_0x5bb0d1)['on'](_0x50dd83(0xd0),_0x4db909)['on']('end',()=>_0x3a1686(!![]))[_0x50dd83(0xcd)](['-vcodec',_0x50dd83(0xd7),_0x50dd83(0xcf),_0x50dd83(0xc7)])[_0x50dd83(0xed)](_0x50dd83(0xd2))['save'](_0x5d3a56);});const _0x2b4864=fs[_0xae5938(0xde)](_0x5d3a56);return fs['unlinkSync'](_0x5d3a56),fs[_0xae5938(0xc3)](_0x5bb0d1),_0x2b4864;}async function videoToWebp(_0x2fbdc5){const _0x591c10=_0x1b4d46,_0x3d8e37=path[_0x591c10(0xce)](tmpdir(),Crypto[_0x591c10(0xd3)](0x6)[_0x591c10(0xf3)](0x0,0x6)[_0x591c10(0xe6)](0x24)+_0x591c10(0xd8)),_0x389292=path[_0x591c10(0xce)](tmpdir(),Crypto[_0x591c10(0xd3)](0x6)[_0x591c10(0xf3)](0x0,0x6)['toString'](0x24)+_0x591c10(0xe3));fs[_0x591c10(0xc1)](_0x389292,_0x2fbdc5),await new Promise((_0x1926ae,_0x2cbd76)=>{const _0x30dd24=_0x591c10;ff(_0x389292)['on']('error',_0x2cbd76)['on'](_0x30dd24(0xe9),()=>_0x1926ae(!![]))['addOutputOptions']([_0x30dd24(0xc8),_0x30dd24(0xd7),'-vf',_0x30dd24(0xc7),_0x30dd24(0xd4),'0',_0x30dd24(0xef),'00:00:00','-t',_0x30dd24(0xf4),'-preset',_0x30dd24(0xd5),_0x30dd24(0xc5),_0x30dd24(0xee),'0'])[_0x30dd24(0xed)](_0x30dd24(0xd2))['save'](_0x3d8e37);});const _0x21791c=fs['readFileSync'](_0x3d8e37);return fs['unlinkSync'](_0x3d8e37),fs[_0x591c10(0xc3)](_0x389292),_0x21791c;}async function writeExifImg(_0x2288d1,_0x4521f3){const _0x2c9830=_0x1b4d46;let _0x5667bf=await imageToWebp(_0x2288d1);const _0x328d75=path[_0x2c9830(0xce)](tmpdir(),Crypto[_0x2c9830(0xd3)](0x6)[_0x2c9830(0xf3)](0x0,0x6)[_0x2c9830(0xe6)](0x24)+_0x2c9830(0xd8)),_0x143ecf=path['join'](tmpdir(),Crypto[_0x2c9830(0xd3)](0x6)[_0x2c9830(0xf3)](0x0,0x6)[_0x2c9830(0xe6)](0x24)+_0x2c9830(0xd8));fs['writeFileSync'](_0x328d75,_0x5667bf);if(_0x4521f3['packname']||_0x4521f3[_0x2c9830(0xcc)]){const _0x8ccded=new webp['Image'](),_0x2402d5={'sticker-pack-id':_0x2c9830(0xd6),'sticker-pack-name':_0x4521f3['packname'],'sticker-pack-publisher':_0x4521f3['author'],'emojis':_0x4521f3[_0x2c9830(0xc2)]?_0x4521f3['categories']:['']},_0x22e637=Buffer[_0x2c9830(0xc4)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x443101=Buffer[_0x2c9830(0xc4)](JSON[_0x2c9830(0xd1)](_0x2402d5),_0x2c9830(0xe4)),_0x4931d6=Buffer['concat']([_0x22e637,_0x443101]);return _0x4931d6['writeUIntLE'](_0x443101[_0x2c9830(0xe1)],0xe,0x4),await _0x8ccded[_0x2c9830(0xe7)](_0x328d75),fs[_0x2c9830(0xc3)](_0x328d75),_0x8ccded['exif']=_0x4931d6,await _0x8ccded['save'](_0x143ecf),_0x143ecf;}}async function writeExifVid(_0x1f608e,_0x338c8b){const _0x414602=_0x1b4d46;let _0x2035c1=await videoToWebp(_0x1f608e);const _0x2918db=path[_0x414602(0xce)](tmpdir(),Crypto[_0x414602(0xd3)](0x6)[_0x414602(0xf3)](0x0,0x6)['toString'](0x24)+_0x414602(0xd8)),_0x3fd6fc=path[_0x414602(0xce)](tmpdir(),Crypto[_0x414602(0xd3)](0x6)['readUIntLE'](0x0,0x6)[_0x414602(0xe6)](0x24)+'.webp');fs[_0x414602(0xc1)](_0x2918db,_0x2035c1);if(_0x338c8b['packname']||_0x338c8b['author']){const _0x2eef11=new webp['Image'](),_0x4948b6={'sticker-pack-id':'https://github.com/DGXeon','sticker-pack-name':_0x338c8b['packname'],'sticker-pack-publisher':_0x338c8b['author'],'emojis':_0x338c8b['categories']?_0x338c8b[_0x414602(0xc2)]:['']},_0x45eec2=Buffer[_0x414602(0xc4)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x2705dc=Buffer[_0x414602(0xc4)](JSON[_0x414602(0xd1)](_0x4948b6),_0x414602(0xe4)),_0x516fd4=Buffer[_0x414602(0xda)]([_0x45eec2,_0x2705dc]);return _0x516fd4[_0x414602(0xf0)](_0x2705dc[_0x414602(0xe1)],0xe,0x4),await _0x2eef11[_0x414602(0xe7)](_0x2918db),fs[_0x414602(0xc3)](_0x2918db),_0x2eef11[_0x414602(0xec)]=_0x516fd4,await _0x2eef11[_0x414602(0xc9)](_0x3fd6fc),_0x3fd6fc;}}async function writeExif(_0xaf7975,_0x1e75ba){const _0x454a51=_0x1b4d46;let _0x4b89ac=/webp/[_0x454a51(0xf6)](_0xaf7975[_0x454a51(0xea)])?_0xaf7975['data']:/image/[_0x454a51(0xf6)](_0xaf7975[_0x454a51(0xea)])?await imageToWebp(_0xaf7975[_0x454a51(0xc6)]):/video/[_0x454a51(0xf6)](_0xaf7975['mimetype'])?await videoToWebp(_0xaf7975[_0x454a51(0xc6)]):'';const _0x4a6c49=path[_0x454a51(0xce)](tmpdir(),Crypto[_0x454a51(0xd3)](0x6)[_0x454a51(0xf3)](0x0,0x6)[_0x454a51(0xe6)](0x24)+'.webp'),_0x1ed927=path[_0x454a51(0xce)](tmpdir(),Crypto[_0x454a51(0xd3)](0x6)[_0x454a51(0xf3)](0x0,0x6)['toString'](0x24)+_0x454a51(0xd8));fs[_0x454a51(0xc1)](_0x4a6c49,_0x4b89ac);if(_0x1e75ba[_0x454a51(0xcb)]||_0x1e75ba[_0x454a51(0xcc)]){const _0x42502a=new webp[(_0x454a51(0xf1))](),_0x3b9253={'sticker-pack-id':_0x454a51(0xdd),'sticker-pack-name':_0x1e75ba[_0x454a51(0xcb)],'sticker-pack-publisher':_0x1e75ba['author'],'emojis':_0x1e75ba[_0x454a51(0xc2)]?_0x1e75ba[_0x454a51(0xc2)]:['']},_0x33a498=Buffer[_0x454a51(0xc4)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x4e52d6=Buffer[_0x454a51(0xc4)](JSON[_0x454a51(0xd1)](_0x3b9253),_0x454a51(0xe4)),_0x399847=Buffer['concat']([_0x33a498,_0x4e52d6]);return _0x399847[_0x454a51(0xf0)](_0x4e52d6[_0x454a51(0xe1)],0xe,0x4),await _0x42502a[_0x454a51(0xe7)](_0x4a6c49),fs['unlinkSync'](_0x4a6c49),_0x42502a[_0x454a51(0xec)]=_0x399847,await _0x42502a[_0x454a51(0xc9)](_0x1ed927),_0x1ed927;}}module['exports']={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExif':writeExif};